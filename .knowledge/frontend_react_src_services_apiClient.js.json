{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API client for a React project, providing functions to connect to an OLT device, fetch optical data from ONTs, and support stub/mock mode when no backend is available. It includes helper functions for URL configuration, data redaction, and parsing raw optical data, and exposes React context for dependency injection.", "external_files": ["react", "react/createContext", "react/useContext", "react/useMemo"], "external_methods": ["fetch"], "published": ["createApiClient", "ApiClientProvider", "useApi"], "classes": [], "methods": [{"name": "getBaseUrl()", "description": "Retrieves the base URL for API requests from environment variables, trimming whitespace.", "scope": "", "scopeKind": ""}, {"name": "isStubMode()", "description": "Determines if the application is running in stub mode based on the presence of a backend URL.", "scope": "", "scopeKind": ""}, {"name": "redacted(obj)", "description": "Creates a copy of an object with sensitive fields like passwords redacted.", "scope": "", "scopeKind": ""}, {"name": "parseRxFromRaw(raw)", "description": "Extracts RX signal strength in dBm from raw string output.", "scope": "", "scopeKind": ""}, {"name": "stubRawOutput(ontPath, rxDbm)", "description": "Generates a simulated raw output string for ONT optics.", "scope": "", "scopeKind": ""}, {"name": "createApiClient()", "description": "Main function that creates and returns an API client with methods for connecting and fetching optical data.", "scope": "", "scopeKind": ""}, {"name": "ApiClientProvider({ children })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "connect({ host, username, password })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "runShowOntOptics({ ontPath })", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "safeFetch(path, options = {})", "scope": "createApiClient", "scopeKind": "function", "description": "unavailable"}, {"name": "useApi()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "setTimeout", "Math.random", "JSON.stringify", "console.error"], "search-terms": ["apiClient", "React context", "stub mode", "ONT optics", "stubRawOutput", "createApiClient"], "state": 2, "file_id": 13, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiClientCtx", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^const ApiClientCtx = createContext(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ApiClientProvider", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^export function ApiClientProvider({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^  return <ApiClientCtx.Provider value={client}>{children}<\\/ApiClientCtx.Provider>;$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^  async function connect({ host, username, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ host, username, password })", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "createApiClient", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^export function createApiClient() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getBaseUrl", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^function getBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^    const payload = { host, username, password };$/", "language": "JavaScript", "kind": "field", "scope": "createApiClient.connect.payload", "scopeKind": "class"}, {"_type": "tag", "name": "isStubMode", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^function isStubMode() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "parseRxFromRaw", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^function parseRxFromRaw(raw) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw)"}, {"_type": "tag", "name": "redacted", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^function redacted(obj) {$/", "language": "JavaScript", "kind": "function", "signature": "(obj)"}, {"_type": "tag", "name": "runShowOntOptics", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^  async function runShowOntOptics({ ontPath }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ ontPath })", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "safeFetch", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^  async function safeFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})", "scope": "createApiClient", "scopeKind": "function"}, {"_type": "tag", "name": "stubRawOutput", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^function stubRawOutput(ontPath, rxDbm) {$/", "language": "JavaScript", "kind": "function", "signature": "(ontPath, rxDbm)"}, {"_type": "tag", "name": "useApi", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/frontend_react/src/services/apiClient.js", "pattern": "/^export function useApi() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "6918e0b422a49cef1884b1abe8f56736", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/services/apiClient.js", "fields": [{"name": "return <ApiClientCtx.Provider value={client}>{children}<\\/ApiClientCtx.Provider>;", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}, {"name": "const payload = { host, username, password };", "scope": "createApiClient.connect.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": ""}]}