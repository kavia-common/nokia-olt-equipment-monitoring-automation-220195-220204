{"is_source_file": true, "format": "JavaScript", "description": "This JavaScript file defines a service module for interacting with Nokia OLT equipment over SSH. It includes functions to test SSH connectivity, retrieve optical metrics ('rx dBm') for ONT devices, manage cached credentials, and resolve credentials from environment variables, cache, or overrides.", "external_files": ["../config/env", "../config/logger", "./sshClient"], "external_methods": ["require('../config/env')", "require('../config/logger')", "runSshCommand"], "published": ["testConnection", "getOntOptics", "cacheConnection"], "classes": [], "methods": [{"name": "setCachedConnection({ host, port, username, password })", "description": "Stores provided SSH credentials in an in-memory cache for reuse.", "scope": "", "scopeKind": ""}, {"name": "resolveCredentials({ host, port, username, password } = {})", "description": "Resolves SSH credentials from overrides, cache, or environment variables; throws an error if required credentials are missing.", "scope": "", "scopeKind": ""}, {"name": "parseRxDbm(raw)", "description": "Parses raw SSH command output to extract the received signal strength in dBm.", "scope": "", "scopeKind": ""}, {"name": "testConnection({ host, port, username, password })", "description": "Tests SSH connectivity to the OLT device by executing a 'show version' command.", "scope": "", "scopeKind": ""}, {"name": "getOntOptics({ ontPath, host, port, username, password })", "description": "Retrieves and parses the optical signal strength (rx dBm) for a specified ONT ID.", "scope": "", "scopeKind": ""}, {"name": "cacheConnection({ host, port, username, password })", "description": "Public method to store SSH credentials in a cache for subsequent requests.", "scope": "", "scopeKind": ""}], "calls": ["runSshCommand"], "search-terms": ["oltService", "testConnection", "getOntOptics", "resolveCredentials", "parseRxDbm", "cacheConnection", "SSH credentials", "ONT optics", "Nokia OLT"], "state": 2, "file_id": 26, "knowledge_revision": 59, "git_revision": "", "ctags": [{"_type": "tag", "name": "cacheConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^function cacheConnection({ host, port, username, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ host, port, username, password })"}, {"_type": "tag", "name": "cachedConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^let cachedConnection = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "fromEnv", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^  const fromEnv = {$/", "language": "JavaScript", "kind": "class", "scope": "resolveCredentials", "scopeKind": "class"}, {"_type": "tag", "name": "getOntOptics", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^async function getOntOptics({ ontPath, host, port, username, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ ontPath, host, port, username, password })"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    host,$/", "language": "JavaScript", "kind": "field", "scope": "resolveCredentials.fromOverrides", "scopeKind": "class"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    host,$/", "language": "JavaScript", "kind": "field", "scope": "setCachedConnection.cachedConnection", "scopeKind": "class"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    host: OLT_HOST_DEFAULT,$/", "language": "JavaScript", "kind": "property", "scope": "resolveCredentials.fromEnv", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^const logger = require('..\\/config\\/logger');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "parseRxDbm", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^function parseRxDbm(raw) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw)"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    password: OLT_PASSWORD$/", "language": "JavaScript", "kind": "property", "scope": "resolveCredentials.fromEnv", "scopeKind": "class"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    port: OLT_SSH_PORT,$/", "language": "JavaScript", "kind": "property", "scope": "resolveCredentials.fromEnv", "scopeKind": "class"}, {"_type": "tag", "name": "resolveCredentials", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^function resolveCredentials({ host, port, username, password } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ host, port, username, password } = {})"}, {"_type": "tag", "name": "setCachedConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^function setCachedConnection({ host, port, username, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ host, port, username, password })"}, {"_type": "tag", "name": "testConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^  testConnection,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "testConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^async function testConnection({ host, port, username, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ host, port, username, password })"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    username: OLT_USERNAME,$/", "language": "JavaScript", "kind": "property", "scope": "resolveCredentials.fromEnv", "scopeKind": "class"}], "hash": "0a40fd3fe8948a795c96ee9b46ba9657", "format-version": 4, "code-base-name": "frontend_react", "filename": "backend_node/src/services/oltService.js", "fields": [{"name": "let cachedConnection = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "host,", "scope": "resolveCredentials.fromOverrides", "scopeKind": "class", "description": "unavailable"}, {"name": "host: OLT_HOST_DEFAULT,", "scope": "resolveCredentials.fromEnv", "scopeKind": "class", "description": "unavailable"}, {"name": "password: OLT_PASSWORD", "scope": "resolveCredentials.fromEnv", "scopeKind": "class", "description": "unavailable"}, {"name": "port: OLT_SSH_PORT,", "scope": "resolveCredentials.fromEnv", "scopeKind": "class", "description": "unavailable"}, {"name": "testConnection,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "username: OLT_USERNAME,", "scope": "resolveCredentials.fromEnv", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"59": ""}]}