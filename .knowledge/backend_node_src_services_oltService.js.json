{"is_source_file": true, "format": "JavaScript", "description": "This file provides services for interacting with an OLT device via SSH or Telnet protocols. It includes functions to test connectivity, retrieve optical transceiver (ONT) optics information, resolve credentials, and manage a simple connection cache.", "external_files": ["../config/env", "../config/logger", "./sshClient", "./telnetClient"], "external_methods": ["require('../config/env')", "require('../config/logger')", "runSshCommand", "runTelnetCommand"], "published": ["testConnection", "getOntOptics", "cacheConnection"], "classes": [], "methods": [{"name": "testConnection({ host, port, username, password })", "description": "Tests connectivity to the OLT device using provided or default credentials with either SSH or Telnet depending on configuration.", "scope": "", "scopeKind": ""}, {"name": "getOntOptics({ ontPath, host, port, username, password })", "description": "Fetches optical information of a specified ONT using a command executed over SSH or Telnet, and parses the RX dBm value from the output.", "scope": "", "scopeKind": ""}, {"name": "cacheConnection({ host, port, username, password })", "description": "Stores a verified connection to be reused for subsequent requests, primarily intended for development purposes.", "scope": "", "scopeKind": ""}, {"name": "getActiveProtocol()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "parseRxDbm(raw)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "resolveCredentials({ host, port, username, password } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "setCachedConnection({ host, port, username, password })", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["runSshCommand", "runTelnetCommand", "logger.info"], "search-terms": ["oltService", "resolveCredentials", "getActiveProtocol", "parseRxDbm", "testConnection", "getOntOptics", "cacheConnection", "TELNET_COMMAND_TIMEOUT_MS", "TELNET_LOGIN_TIMEOUT_MS", "TELNET_PASSWORD_PROMPT", "TELNET_USERNAME_PROMPT", "TELNET_SHELL_PROMPT", "OLT_HOST_DEFAULT", "OLT_SSH_PORT", "OLT_TELNET_PORT"], "state": 2, "file_id": 26, "knowledge_revision": 70, "git_revision": "4e27ad7ec0de0cc1e8404a0d7ede376316cd998b", "revision_history": [{"59": ""}, {"70": "4e27ad7ec0de0cc1e8404a0d7ede376316cd998b"}], "ctags": [{"_type": "tag", "name": "cacheConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^function cacheConnection({ host, port, username, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ host, port, username, password })"}, {"_type": "tag", "name": "cachedConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^let cachedConnection = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "fromEnv", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^  const fromEnv = {$/", "language": "JavaScript", "kind": "class", "scope": "resolveCredentials", "scopeKind": "class"}, {"_type": "tag", "name": "getActiveProtocol", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^function getActiveProtocol() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getOntOptics", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^async function getOntOptics({ ontPath, host, port, username, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ ontPath, host, port, username, password })"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    host,$/", "language": "JavaScript", "kind": "field", "scope": "resolveCredentials.fromOverrides", "scopeKind": "class"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    host,$/", "language": "JavaScript", "kind": "field", "scope": "setCachedConnection.cachedConnection", "scopeKind": "class"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    host: OLT_HOST_DEFAULT,$/", "language": "JavaScript", "kind": "property", "scope": "resolveCredentials.fromEnv", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^const logger = require('..\\/config\\/logger');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "parseRxDbm", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^function parseRxDbm(raw) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw)"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    password: OLT_PASSWORD$/", "language": "JavaScript", "kind": "property", "scope": "resolveCredentials.fromEnv", "scopeKind": "class"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    port: activeProtocol === 'telnet' ? OLT_TELNET_PORT : OLT_SSH_PORT,$/", "language": "JavaScript", "kind": "property", "scope": "resolveCredentials.fromEnv", "scopeKind": "class"}, {"_type": "tag", "name": "resolveCredentials", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^function resolveCredentials({ host, port, username, password } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ host, port, username, password } = {})"}, {"_type": "tag", "name": "setCachedConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^function setCachedConnection({ host, port, username, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ host, port, username, password })"}, {"_type": "tag", "name": "testConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^  testConnection,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "testConnection", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^async function testConnection({ host, port, username, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ host, port, username, password })"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/nokia-olt-equipment-monitoring-automation-220195-220204/backend_node/src/services/oltService.js", "pattern": "/^    username: OLT_USERNAME,$/", "language": "JavaScript", "kind": "property", "scope": "resolveCredentials.fromEnv", "scopeKind": "class"}], "hash": "9388d925fb9576373fa0479b315fcd66", "format-version": 4, "code-base-name": "frontend_react", "filename": "backend_node/src/services/oltService.js", "fields": [{"name": "let cachedConnection = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "host,", "scope": "resolveCredentials.fromOverrides", "scopeKind": "class", "description": "unavailable"}, {"name": "host: OLT_HOST_DEFAULT,", "scope": "resolveCredentials.fromEnv", "scopeKind": "class", "description": "unavailable"}, {"name": "password: OLT_PASSWORD", "scope": "resolveCredentials.fromEnv", "scopeKind": "class", "description": "unavailable"}, {"name": "port: activeProtocol === 'telnet' ? OLT_TELNET_PORT : OLT_SSH_PORT,", "scope": "resolveCredentials.fromEnv", "scopeKind": "class", "description": "unavailable"}, {"name": "testConnection,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "username: OLT_USERNAME,", "scope": "resolveCredentials.fromEnv", "scopeKind": "class", "description": "unavailable"}]}